<!DOCTYPE HTML>
<html>
	<head>
		<title>Assembly Compiler & Custom CPU</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="single is-preload">
		<!-- Wrapper -->
			<div id="wrapper">
				<!-- Header -->
					<header id="header">
						<h1>Assembly Compiler & Custom CPU</h1>
						<nav class="links">
							<ul>
								<li><a href="index.html"">Back to Home Page</a></li>
							</ul>
						</nav>
					</header>
				<!-- Main -->
					<div id="main">
						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2>Assembly Compiler & Custom CPU</h2>
                                    </div>
								</header>
                               <span class="image featured"><center><img src="images/fiscCPU.png" style="height: 40vw;width:55vw;"/></center></span>
                                <p>The assembler constructs 8 bit machine words based on the following OpCode table</p>
                                <img src ="images/opCodeTable.png" style="height:12vw;">
                                <br><br>
                                <h3>The Compiler</h3>
                                <p>Compiled machine words consist of the 2 most significant bits being the OpCode, the next 4 bits being the registers used in the operation and the 2 least significant bits being the destination register for the operations result. If the BNZ operation is called, the word consists instead of the most signifcant bits being the OpCode, but with the last 6 bits being the branch address. The compiler checks syntax to ensure the assembly code being compiled doesn't try to access registers outisde the CPU or use commands not in the instruction set. The compiler also supports comments and labels. The program takes in an assembly code file, and outputs a hex file of the compiled code.</p>
                                <h3>CPU Circuit Simulation in Logisim</h3>
                                <p>The CPU takes in the output hex file of the compiler and stores the data in ROM. From there, the data from each cell in ROM is read sequentially and the command is executed using splitters to extract the command, operand registers and destination registers for non-BNZ commands. In the CPU all arithmetic operations are performed, but the OpCode bits select the approriate result and feed that information to the appropriate register. The program counter increments by 1 to advance through the ROM and execute all commands. The datapath includes 4 registers with the output of the CPU being tied directly to the contents of the last register, shwon using a hex display. The BNZ command does not affect any registers, and instead changes the value of the program counter to match the specified branch address.</p>
                                <h3>Sample of the Compiler Input with Generated Output</h3>
                                <img src="images/compilerInOut.png" style="height:14vw;">
                                <p></p>
                             </article>
			</div>
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>